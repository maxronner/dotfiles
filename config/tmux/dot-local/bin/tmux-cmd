#!/bin/bash

if [ $# -eq 0 ]; then
    echo "Usage: $0 <command> [args...]"
    exit 1
fi

window_name="$1"

if tmux list-windows -F '#W' | grep -Fxq "$window_name"; then
    tmux select-window -t "$window_name"
else
    working_dir=$(tmux display -p "#{pane_current_path}")
    tmux new-window -n "$window_name" -c "$working_dir" "$@"
fi
